---
include:
  - CLCSA_Questions.yml
  - CLCSA_Gender_Code.yml
  - CLCSA_Indigenous_Code.yml
  - CLCSA_List_of_Services.yml
---
# Welcome screen
mandatory: true
question: |
  #### Welcome to the Community Legal Centre South Australia application. 
  #### This application will help find a legal centre for you.
  
       ## PRIVACY STATEMENT ##
  #### Community Legal Centres South Australia is committed to protecting the privacy 
  #### and accuracy of confidential information to the extent possible, subject to the 
  #### provisions of State and Federal law. 
  
       ## THIS APP SHOULD NOT BE USED AS PROFESSIONAL LEGAL ADVICE ##
  ####  This application can be used to help find a Community Legal Centre and should 
  ####  not be used as a replacement for professional legal advice.
  
buttons:  
  - I agree: continue
  - I do not agree: exit
    url: https://www.clcsa.org.au/
---
# Final Screen
mandatory: true
question: Final Screen
subquestion: |
  Thank you for completing this application. Here are your responses,
  
  Questions                           |Answers
  ------------------------------------|--------
  Location                            | ${CLCSAlocation.true_values()}
  Legal Issue                         | ${CLCSAlegalissue.true_values()}
  Gender                              | ${CLCSAgender}
  Aboriginal or Torres Strait Islander| ${CLCSAindigenous}
  
  Here are the list of services,
  
  ${CLCSAdisplay_gender}
  ${CLCSAdisplay_indigenous}
    
buttons:
  - exit: Exit
  - restart: Restart
---
objects:
  - CLCSAdisplay_list: DAList.using(there_are_any=True, auto_gather=False)
  - CLCSAdiplay_gsf: DAList.using(there_are_any=True, auto_gather=False)
---
code: |
  for CLCSAa_service in CLCSAservicesGeneral:
    if CLCSAa_service['gender_specific'] == 'Female':
      CLCSAdiplay_gsf.append(CLCSAa_service)
  CLCSAdiplay_gsf.gathered = True
---
code: |
  for CLCSAa_location in CLCSAlocation.true_values():
    # Find each agency that's in a_location
    for CLCSAa_service in CLCSAservicesGeneral:
      if CLCSAa_location is CLCSAa_service['location'] and CLCSAgender in CLCSAa_service['gender']:
        # add this to the display list
        CLCSAdisplay_list.append(CLCSAa_service)

  CLCSAdisplay_list.gathered = True
---
template: CLCSAdisplay_gender
content: |
  %if CLCSAgender == 'Female':
  ${CLCSA3column_header}
  ${CLCSA3dashes}
  %for CLCSA3item in CLCSA3table_rows:
  ${CLCSA3item}
  %endfor
  %elif CLCSAgender == 'Male':
  something
  %elif CLCSAgender == 'Other':
  somethere here too
  %endif
---
template: CLCSAdisplay_indigenous
content: |
  %if CLCSAindigenous:
  ${CLCSA4column_header}
  ${CLCSA4dashes}
  %for CLCSA4item in CLCSA4table_rows:
  ${CLCSA4item}
  %endfor
  %endif
---